# ======================================================================
# CONFIGURAZIONE AMBIENTE DI TESTING
# ======================================================================
# Questo file contiene tutte le variabili d'ambiente per l'ambiente
# di testing. Viene caricato automaticamente quando ENV=testing.
# ======================================================================

# Imposta l'ambiente a testing
ENV=testing
STRICT_VALIDATION=True

# ======================================================================
# CONFIGURAZIONE DATABASE
# ======================================================================
# Utilizza un database SQLite in memoria per isolare i test.
SQLALCHEMY_DATABASE_URI=sqlite:///:memory:

DB_HOST=
DB_USER=
DB_PASSWORD=
DB_NAME=
DB_PORT=3306
# Se preferisci, puoi configurare qui anche un database di test (es. MySQL)
# ma in genere per i test è più semplice usare SQLite in memoria.

# ======================================================================
# SICUREZZA
# ======================================================================
# Per i test non serve un SECRET_KEY estremamente sicuro,
# ma deve essere coerente per far funzionare crittografia e token.
SECRET_KEY=test-secret-key-for-testing-only

# ======================================================================
# CONFIGURAZIONE API
# ======================================================================
API_V1_STR=/api/v1

# ======================================================================
# CONFIGURAZIONE FRONTEND
# ======================================================================
# Definisci gli URL consentiti per i test (es. domini locali)
CORS_ORIGINS=["http://localhost:4200","http://localhost:3000"]

# ======================================================================
# CONFIGURAZIONE STORAGE
# ======================================================================
# Per i test usa il filesystem locale
STORAGE_TYPE=local

# ======================================================================
# CONFIGURAZIONE EMAIL
# ======================================================================
# Imposta valori di test per le email (ad esempio, usando Mailtrap)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=587
SMTP_USER=test_mailtrap_user
SMTP_PASSWORD=test_mailtrap_password
EMAIL_FROM=test@reminderapp.com

# ======================================================================
# CONFIGURAZIONE STRIPE (AMBIENTE DI TEST)
# ======================================================================
# Usa le chiavi di test di Stripe
STRIPE_API_KEY=your_stripe_test_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_test_secret
PAYMENT_SUCCESS_URL=http://localhost:4200/payment/success
PAYMENT_CANCEL_URL=http://localhost:4200/payment/cancel

# ======================================================================
# CONFIGURAZIONE TWILIO (AMBIENTE DI TEST)
# ======================================================================
# Usa le credenziali di test di Twilio
TWILIO_ACCOUNT_SID=your_twilio_test_sid
TWILIO_AUTH_TOKEN=your_twilio_test_token
TWILIO_PHONE_NUMBER=your_twilio_test_phone

# ======================================================================
# CONFIGURAZIONE RATE LIMITING
# ======================================================================
# Per i test, puoi disabilitare il rate limiting o impostarlo a valori elevati
RATE_LIMIT_ENABLED=false
DEFAULT_RATE_LIMIT=1000/minute

# ======================================================================
# SICUREZZA COOKIE
# ======================================================================
# Nei test non è necessario forzare cookie sicuri
SECURE_COOKIES=False  # <- Change to boolean-compatible format

# ======================================================================
# CONFIGURAZIONE LOGGING
# ======================================================================
# Per i test, usa un livello DEBUG per ottenere maggiori dettagli
LOG_LEVEL=DEBUG
