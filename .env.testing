# ======================================================================
# CONFIGURAZIONE AMBIENTE DI TESTING
# ======================================================================
# Questo file contiene tutte le variabili d'ambiente per l'ambiente
# di testing. Viene caricato automaticamente quando ENV=testing.
# ======================================================================

# ======================================================================
# CONFIGURAZIONE VALIDAZIONE DATI
# ======================================================================
# imposta tutti i dati in modo non stretto per l'ambiente di testing.
# se impostato a False, alcuni dati importanti in ingresso non saranno validati 
STRICT_VALIDATION=True

# ======================================================================
# CONFIGURAZIONE DATABASE
# ======================================================================
# Utilizza un database SQLite in memoria per isolare i test.
SQLALCHEMY_DATABASE_URI=sqlite:///test.db
SQL_ECHO=true

# DB_HOST=localhost
# DB_USER=test_user
# DB_PASSWORD=test_password 
# DB_NAME=test_db
# DB_PORT=3306
# Se preferisci, puoi configurare qui anche un database di test remoto
# ma in genere per i test è più semplice usare test.db

# ======================================================================
# SICUREZZA
# ======================================================================
# Per i test non serve un SECRET_KEY estremamente sicuro,
# ma deve essere coerente per far funzionare crittografia e token.
SECRET_KEY=testing-secret-key-not-for-production-use
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ======================================================================
# CONFIGURAZIONE API
# ======================================================================
API_V1_STR=/api/v1

# ======================================================================
# CONFIGURAZIONE FRONTEND
# ======================================================================
# Definisci gli URL consentiti per i test (es. domini locali)
CORS_ORIGINS=["http://localhost:4200","http://localhost:3000"]
CORS_ALLOW_CREDENTIALS=true

# ======================================================================
# CONFIGURAZIONE STORAGE
# ======================================================================
# Per i test usa il filesystem locale
STORAGE_TYPE=local

# ======================================================================
# CONFIGURAZIONE EMAIL
# ======================================================================
# Imposta valori di test per le email (ad esempio, usando Mailtrap)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=test@example.com

# ======================================================================
# CONFIGURAZIONE STRIPE (AMBIENTE DI TEST)
# ======================================================================
# Usa le chiavi di test di Stripe
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=
PAYMENT_SUCCESS_URL=http://localhost:3000/payment/success
PAYMENT_CANCEL_URL=http://localhost:3000/payment/cancel

# ======================================================================
# CONFIGURAZIONE TWILIO (AMBIENTE DI TEST)
# ======================================================================
# Usa le credenziali di test di Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ======================================================================
# CONFIGURAZIONE RATE LIMITING
# ======================================================================
# Per i test, puoi disabilitare il rate limiting o impostarlo a valori elevati
RATE_LIMIT_ENABLED=false
DEFAULT_RATE_LIMIT=1000/minute

# ======================================================================
# CONFIGURAZIONE LOGGING
# ======================================================================
# Per i test, usa un livello DEBUG per ottenere maggiori dettagli
LOG_LEVEL=DEBUG

# ======================================================================
# SERVER
# ======================================================================
# Server settings
SERVER_HOST=127.0.0.1
SERVER_PORT=8000

# ======================================================================
# CONFIGURAZIONE REDIS
# ======================================================================
# Disabilita Redis per i test
USE_REDIS=false
REDIS_URL=redis://localhost:6379/0
